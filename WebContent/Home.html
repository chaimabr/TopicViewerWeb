 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
 <script src="http://api.simile-widgets.org/timeline/2.3.1/timeline-api.js?bundle=true" type="text/javascript"></script>
<script src="js/moment.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
 
        <!--[if lt IE 9]>
          <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->


<script>
var tl;
function onLoad() {
	var eventSource = new Timeline.DefaultEventSource();
	
  var bandInfos = [
Timeline.createBandInfo({
     width:          "40%",
     eventSource:    eventSource,
     intervalUnit:   Timeline.DateTime.MINUTE, 
     intervalPixels: 300
 }),
Timeline.createBandInfo({
	 overview:       true,
     width:          "20%",
     eventSource:    eventSource,
     intervalUnit:   Timeline.DateTime.HOUR, 
     intervalPixels: 200
 }),
Timeline.createBandInfo({
	  overview:       true,
      width:          "20%",
      eventSource:    eventSource,
      intervalUnit:   Timeline.DateTime.DAY, 
      intervalPixels: 200
  }),
    Timeline.createBandInfo({
    	 overview:       true,
   	 eventSource:    eventSource,
        width:          "10%", 
        intervalUnit:   Timeline.DateTime.MONTH, 
        intervalPixels: 100
    }),
    Timeline.createBandInfo({
    	 overview:       true,
        width:          "10%",
        eventSource:    eventSource,
        intervalUnit:   Timeline.DateTime.YEAR, 
        intervalPixels: 200
    })
  ];
  bandInfos[1].syncWith = 0;
  bandInfos[1].highlight = true;
  bandInfos[2].syncWith = 1;
  bandInfos[2].highlight = true;
  bandInfos[3].syncWith = 2;
  bandInfos[3].highlight = true;
  bandInfos[4].syncWith = 3;
  bandInfos[4].highlight = true;
  tl = Timeline.create(document.getElementById("my-timeline"), bandInfos);
  //Timeline.loadXML("topics.json", function(json, url) { eventSource.loadXML(json, url); });
  tl.loadXML("http://localhost:8080/MicroFull1/Main?timeslot="+$('#timeslot').val()+"&menu="+$('#menu').val(), function(json, url) {
      eventSource.loadXML(json, url);
  });
}

var resizeTimerID = null;
function onResize() {
    if (resizeTimerID == null) {
        resizeTimerID = window.setTimeout(function() {
            resizeTimerID = null;
            tl.layout();
        }, 500);
    }
}
    
	$(document).ready(function(){
		
		

		//$('#progress').hide();
		$('#buttonSubmit').click(function(e){
			e.preventDefault();
			
			
			onLoad();
			  
		});
		
	});
</script>
<title>TopicViewer</title>
</head>
<body onresize="onResize();">
<div class="jumbotron">
  <h1 style="text-align:center"><b>Topic</b>Viewer</h1>
	  <div class="panel panel-default">
	  <div class="panel-body">
	    <form id="inputform">
	    <div class="input-group input-group-lg">
		  <span class="input-group-addon" id="sizing-addon1">Timeslot size</span>
		<select class="form-control" name="timeslot" id="timeslot">
              <option value="1">1 min</option>
              <option value="10">10 min</option>
              <option value="60">1 h</option>
              <option value="720">12 h</option>
              <option value="1440">1 day</option>
		</select>
		</div>
		<div class="input-group input-group-lg">
		  <span class="input-group-addon" id="sizing-addon1">Method</span>
		<select class="form-control" name="menu" id="menu">
              <option value="1">LDA</option>
              <option value="2">Doc-p</option>
              <option value="3">Graphbased</option>
              <option value="4">SFIM</option>
              <option value="5">BNgram</option>
		</select>
		</div>
  <input type="button" style="margin-left:15px;" class="btn btn-primary btn-lg" value="Launch Extractor" id="buttonSubmit" />
  </form> 
        </div>
	  </div>
	</div>

<div class="progress" id="progress">
  <!-- <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
  </div> -->
</div>

        <div id="my-timeline" style="height: 450px; border: 1px solid #aaa"></div>
<noscript>
This page uses Javascript to show you a Timeline. Please enable Javascript in your browser to see the full page. Thank you.
</noscript>
        
        <!-- JavaScript includes - jQuery, turn.js and our own script.js -->
		<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
		<script src="js/timeline-min.js"></script>
		<script src="js/story-embed.js"></script>
		<!-- <script src="timeline/assets/js/script.js"></script>-->
</body>
<footer style="text-align: center;">
	<span class="logos eurecom"><a href="http://www.eurecom.fr/en"><img src="images/logo.png" style="
    width: 100px;"></a></span>
</footer>
</html>